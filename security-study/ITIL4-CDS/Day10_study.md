## 📚 今日の学習テーマ：新しいサービスの作成モデル（構築と移行）

### 📝 学習の目標

*   ビルド、テスト、デプロイ、リリースの各段階における連携と違いを理解する。
*   リリース管理およびデプロイメント管理プラクティスが、バリューストリームにおいてどのように機能するかを把握する。
*   「完了の定義（Definition of Done）」の重要性を理解し、各工程での明確化について考察する。

### 🔍 カバーする範囲

本日の学習では、ITIL 4の「新しいサービスの作成」モデルにおける「構築と移行」のフェーズに焦点を当てます。具体的には、開発されたサービスが実際に利用可能な状態になるまでのプロセス、関連するプラクティス、そして品質を保証するための重要な概念について解説します。

## 📖 解説パート

### 新しいサービスの作成モデル（構築と移行）

新しいサービスや機能が開発された後、それを実際の運用環境に展開し、利用可能な状態にするプロセスは、サービス提供の根幹をなします。この「構築と移行」のフェーズでは、ビルド、テスト、デプロイ、リリースといった一連の活動が連携して行われます。

まず、「ビルド」は、ソースコードをコンパイルし、実行可能なソフトウェアやシステムを生成する工程です。次に、「テスト」では、開発されたものが要件を満たしているか、バグがないかなどを検証します。これには単体テスト、結合テスト、システムテスト、受け入れテストなど、多岐にわたるテストが含まれます。テストが成功し、品質が確認された後、「デプロイ」が行われます。デプロイは、本番環境やステージング環境など、サービスが稼働する場所にソフトウェアやシステムを配置・展開する作業です。最後に、「リリース」は、デプロイされたサービスを実際にユーザーが利用できる状態にするプロセスです。リリース管理プラクティスは、これらの活動全体を調整し、変更がスムーズかつ安全に行われるように管理します。

これらの工程を円滑に進めるためには、「完了の定義（Definition of Done: DoD）」が不可欠です。DoDは、各開発フェーズやタスクが「完了」とみなされるための具体的な基準を定めたものです。例えば、開発フェーズにおけるDoDには「単体テストがすべてグリーンであること」「コードレビューが完了していること」などが含まれます。テストフェーズでは「主要なテストケースがすべてパスしていること」、デプロイフェーズでは「本番環境へのデプロイ手順が確立されていること」などが該当します。DoDを各工程で明確に定義し、遵守することで、品質のばらつきを防ぎ、手戻りを削減し、予期せぬ問題の発生リスクを低減することができます。

さらに、デプロイメント管理プラクティスは、ソフトウェアやハードウェアの変更を効率的かつ安全に展開するための活動を担います。これには、自動化されたデプロイメントパイプラインの構築、バージョン管理、ロールバック戦略の策定などが含まれます。継続的インテグレーション（CI）および継続的デリバリー（CD）といったプラクティスと連携することで、ビルドからデプロイまでのサイクルを高速化し、より頻繁に、かつ信頼性の高いリリースを実現することが可能になります。

この「構築と移行」のフェーズは、開発チームと運用チームの連携が特に重要となる部分です。開発されたものが運用環境でどのように動作するのか、運用上の制約や要件を開発段階から考慮に入れることで、より安定した、高品質なサービス提供につながります。

#### 重要ポイント

*   ビルド、テスト、デプロイ、リリースの各工程は、それぞれ独立した活動ではなく、密接に連携する一連のプロセスとして捉える必要があります。
*   「完了の定義（Definition of Done）」を各工程で明確に定めることで、品質の確保と手戻りの削減に繋がります。
*   リリース管理とデプロイメント管理プラクティスは、変更の安全性と効率性を担保するために不可欠です。
*   CI/CDのようなプラクティスは、このフェーズの自動化と高速化を促進します。

## 🏢 ケーススタディ

### ケース：新機能リリース後の深刻な障害

あるSaaS提供企業が、ユーザーからの要望が多かった新機能をリリースしました。しかし、リリース直後から、多くのユーザーがログインできなくなる、データが正常に表示されないといった深刻な障害が多発しました。原因を調査したところ、新機能のコード自体に問題があっただけでなく、デプロイプロセスにおける設定ミスや、テスト段階で見落とされていた依存関係の問題が複合的に影響していたことが判明しました。この障害により、数時間にわたるサービス停止が発生し、顧客からの信頼失墜と多額の機会損失を招きました。

#### 問題点

*   新機能のコード自体に、本番環境で顕在化するバグが含まれていた。
*   デプロイプロセスにおける設定ミスがあり、依存関係の整合性が取れていなかった。
*   テスト段階で、本番環境に近い条件下での十分な検証が行われていなかった。

#### 対応策

*   リリース前に、本番環境を模倣したステージング環境での徹底的な統合テストとパフォーマンステストを実施する。
*   デプロイメントパイプラインに、設定ミスを検出する自動チェック機能や、依存関係の整合性を確認する仕組みを導入する。
*   「完了の定義（Definition of Done）」に、本番環境での主要機能の動作確認を含める。
*   インシデント発生時の迅速なロールバック手順を確立し、定期的に訓練を行う。

#### ケースから学ぶ教訓

*   機能開発だけでなく、デプロイメントプロセス自体の品質管理も極めて重要である。
*   「完了の定義」は、単なる形式ではなく、実質的な品質保証の基準として機能させるべきである。
*   本番環境に近い条件でのテストと、自動化された検証プロセスは、障害リスクを大幅に低減する。

## 📋 今日のまとめ

*   新しいサービスの作成における「構築と移行」プロセスでは、ビルド、テスト、デプロイ、リリースが連携して行われます。
*   「完了の定義（Definition of Done）」は、各工程の品質基準を明確にし、手戻りを防ぐために不可欠です。
*   リリース管理とデプロイメント管理プラクティスは、変更の安全かつ効率的な実施を支援します。

### 次回予告

明日は「ユーザーサポートの復旧モデル（検知と分類）」について学習します。

## 📚 参考資料・リソース

*   ITIL 4 Foundation: Direct, Professional, and Digital Edition
*   DevOps Handbook: How to Create World-Class Agility, Reliability, and Security in Technology Organizations
*   Continuous Delivery: Reliable Software Releases through Build, Test, and Deployment Automation