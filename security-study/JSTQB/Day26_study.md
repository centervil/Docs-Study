
## 📚 今日の学習テーマ：テスト技法の復習と演習（状態遷移、ユースケース、ホワイトボックス、経験ベース）

### 📝 学習の目標

* 状態遷移テスト、ユースケーステスト、ホワイトボックステスト（ステートメントカバレッジ、デシジョンカバレッジ）の概念を理解し、テストケースを作成できるようになる。
* 経験ベースのテスト技法（エラー推測、探索的テストなど）について理解を深める。
* 各テスト技法の適用場面を理解し、適切なテスト技法を選択できるようになる。

### 🔍 カバーする範囲

本日は、JSTQB Foundation Levelシラバスの第4章「テスト技法」から、状態遷移テスト、ユースケーステスト、ホワイトボックステスト、経験ベースのテスト技法について復習し、演習を通して理解を深めます。

## 📖 解説パート

### 状態遷移テスト

状態遷移テストは、システムやコンポーネントの状態とその遷移に着目したテスト技法です。システムの状態を図で表現し、状態間の遷移を網羅的にテストすることで、予期せぬ状態遷移や不正な状態遷移を発見することができます。

状態遷移図は、状態と状態間の遷移をノードと矢印で表現します。各遷移には、トリガーとなるイベントや条件、遷移後の状態が記述されます。

状態遷移テストでは、状態遷移図に基づいてテストケースを作成します。可能な限りすべての状態遷移を網羅するようにテストケースを作成することが重要です。

### ユースケーステスト

ユースケーステストは、システムの利用者の視点から、システムが提供する機能（ユースケース）に着目したテスト技法です。ユースケース記述に基づいてテストケースを作成することで、利用者の期待どおりにシステムが動作するかどうかを確認することができます。

ユースケース記述は、利用者がシステムを利用する目的、システムとのインタラクション、システムの応答などを記述したものです。

ユースケーステストでは、ユースケース記述に基づいてテストケースを作成します。ユースケースに含まれるすべてのシナリオを網羅するようにテストケースを作成することが重要です。

### ホワイトボックステスト

ホワイトボックステストは、ソフトウェアの内部構造に着目したテスト技法です。ソースコードを分析し、コードの実行経路を網羅的にテストすることで、潜在的なバグを発見することができます。

ステートメントカバレッジは、プログラム中のすべてのステートメントを少なくとも1回は実行するようにテストケースを作成する技法です。デシジョンカバレッジは、プログラム中のすべての条件分岐（if文、switch文など）において、真と偽の両方の結果を少なくとも1回は実行するようにテストケースを作成する技法です。

```java
// 例：デシジョンカバレッジのテストケース
public int calculate(int a, int b) {
    if (a > 0) {
        return a + b;
    } else {
        return a - b;
    }
}

// テストケース1: a > 0 の場合 (a = 1, b = 2)  -> 結果: 3
// テストケース2: a <= 0 の場合 (a = -1, b = 2) -> 結果: -3
```

#### 重要ポイント

* ホワイトボックステストは、開発者が実施することが多い。
* カバレッジ率が高いほど、テストの網羅性が高いと言える。
* ホワイトボックステストは、ブラックボックステストと組み合わせて実施することで、より効果的なテストが可能になる。

### 経験ベースのテスト技法

経験ベースのテスト技法は、テスト担当者の知識、経験、直感に基づいてテストケースを作成する技法です。エラー推測は、過去の経験からバグが発生しやすい箇所を予測し、重点的にテストする技法です。探索的テストは、テストケースを事前に作成せず、テストの実行中にテスト設計とテスト実行を同時に行う技法です。

## 🏢 ケーススタディ

### ケース：ECサイトのログイン機能

ECサイトのログイン機能において、ユーザー名とパスワードを入力してログインする機能をテストすることになった。

#### 問題点

* ユーザー名とパスワードの組み合わせが正しい場合と誤っている場合のテストケースが不足している。
* パスワードの複雑さに関する要件が考慮されていない。
* ブルートフォース攻撃などのセキュリティ上の脆弱性が考慮されていない。

#### 対応策

* 有効なユーザー名とパスワード、無効なユーザー名とパスワードの組み合わせを網羅的にテストする。
* パスワードの複雑さ（文字数、特殊文字の有無など）に関する要件を満たすテストケースを作成する。
* ブルートフォース攻撃をシミュレートするテストケースを作成し、アカウントロックなどの対策が有効に機能するか確認する。
* ログイン失敗時のエラーメッセージが適切に表示されるか確認する。
* ログインセッションの有効期限やセキュリティに関する設定を確認する。

#### ケースから学ぶ教訓

* 機能テストだけでなく、セキュリティテストも重要である。
* ユーザーの視点だけでなく、攻撃者の視点も考慮する必要がある。
* テストケースは、要件定義書や設計書に基づいて作成する必要がある。

## 📝 理解度チェックテスト

以下の問題を解いて、今日の学習内容の理解度をチェックしましょう。

### 問題1

状態遷移テストの主な目的は何ですか？

1. プログラムのすべての行を実行すること。
2. ユーザーの視点からシステムの機能を検証すること。
3. システムの状態と状態間の遷移を網羅的にテストすること。
4. コードの可読性を向上させること。

### 問題2

ユースケーステストで利用する主な情報源は何ですか？

1. ソースコード
2. システムのログファイル
3. ユースケース記述
4. データベースのスキーマ

### 問題3

ステートメントカバレッジとは、何を網羅的にテストすることですか？

1. プログラム中のすべての条件分岐
2. プログラム中のすべてのステートメント
3. プログラム中のすべての関数
4. プログラム中のすべての変数

### 問題4

経験ベースのテスト技法に該当しないものはどれですか？

1. エラー推測
2. 探索的テスト
3. 同値分割
4. チェックリストベースのテスト

### 問題5

以下のうち、ホワイトボックステストに該当するものはどれですか？

1. 性能テスト
2. セキュリティテスト
3. デシジョンカバレッジ
4. ユーザビリティテスト

## 📋 今日のまとめ

* 状態遷移テストは、状態と遷移に着目したテスト技法である。
* ユースケーステストは、ユーザーの視点からシステムの機能を検証するテスト技法である。
* ホワイトボックステストは、ソースコードの内部構造に着目したテスト技法である。
* 経験ベースのテスト技法は、テスト担当者の知識、経験、直感に基づいてテストケースを作成する技法である。

### 次回予告

明日は「テストマネジメント」について学習します。

## ✅ テスト回答・解説

### 問題1 正解：3

解説：状態遷移テストは、システムの状態と状態間の遷移を網羅的にテストすることを目的とします。状態遷移図を作成し、状態間の遷移を網羅的にテストすることで、予期せぬ状態遷移や不正な状態遷移を発見することができます。他の選択肢は、それぞれ異なるテスト技法の目的を表しています。

### 問題2 正解：3

解説：ユースケーステストは、システムの利用者の視点から、システムが提供する機能（ユースケース）に着目したテスト技法です。ユースケース記述に基づいてテストケースを作成することで、利用者の期待どおりにシステムが動作するかどうかを確認することができます。

### 問題3 正解：2

解説：ステートメントカバレッジは、プログラム中のすべてのステートメントを少なくとも1回は実行するようにテストケースを作成する技法です。コード網羅率を測る指標の一つです。

### 問題4 正解：3

解説：同値分割はブラックボックステスト技法です。エラー推測、探索的テスト、チェックリストベースのテストは、経験ベースのテスト技法に分類されます。

### 問題5 正解：3

解説：デシジョンカバレッジは、プログラムの内部構造に着目するホワイトボックステストに該当します。性能テスト、セキュリティテスト、ユーザビリティテストは、ブラックボックステストに分類されます。

## 📚 参考資料・リソース

* JSTQB Foundation Level シラバス
* ソフトウェアテストの基礎知識
* ソフトウェアテスト技法