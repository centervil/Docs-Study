## 📚 今日の学習テーマ：ネットワーク基礎とプロトコル

### 📝 学習の目標

*   TCP/IPモデルの各層とその役割を理解する。
*   主要なネットワークプロトコルの機能と、それぞれの保護すべきポイントを把握する。
*   ネットワーク通信におけるセキュリティ上のリスクと、その対策の基本を理解する。

### 🔍 カバーする範囲

TCP/IPモデルの概要、各層（アプリケーション層、トランスポート層、インターネット層、ネットワークインターフェイス層）で利用される主要なプロトコル（HTTP, HTTPS, DNS, TCP, UDP, IP, Ethernetなど）の機能と、それらが抱えるセキュリティ上の課題や保護策について解説します。

## 📖 解説パート

### TCP/IPモデルと主要プロトコルのセキュリティ

ネットワーク通信の基盤となるTCP/IPモデルは、4つの階層（アプリケーション層、トランスポート層、インターネット層、ネットワークインターフェイス層）で構成されており、各層で異なるプロトコルが機能しています。これらのプロトコルは、データの送受信、経路選択、エラー制御など、通信の円滑な実現に不可欠ですが、それぞれにセキュリティ上の脆弱性が存在します。

**アプリケーション層**では、HTTP、HTTPS、DNSなどが代表的です。HTTPは平文で通信するため、盗聴や改ざんのリスクがあります。HTTPSはSSL/TLSによって暗号化することで、これらのリスクを軽減します。DNSは、ドメイン名とIPアドレスを対応付ける重要なサービスですが、DNSスプーフィング（偽のDNS応答を返す攻撃）やDNSキャッシュポイズニングなどの攻撃が存在します。

**トランスポート層**では、TCPとUDPが主要なプロトコルです。TCPは信頼性の高いコネクション指向の通信を提供しますが、SYNフラッド攻撃などのDoS攻撃の標的になることがあります。UDPは高速ですが信頼性は低く、ポートスキャンや、一部のサービスで悪用される可能性があります。

**インターネット層**では、IPプロトコルがデータのパケット化とルーティングを担います。IPアドレスの偽装（IPスプーフィング）や、パケットの傍受・改ざんのリスクがあります。

**ネットワークインターフェイス層**では、Ethernetなどが使用され、MACアドレスによる端末識別が行われます。MACアドレススプーフィングなどの攻撃が存在します。

これらのプロトコルを理解し、それぞれの層で適切なセキュリティ対策を講じることが、安全なネットワーク環境を構築する上で重要です。例えば、ファイアウォールによる不要なポートの閉鎖、IDS/IPSによる不正通信の検知、暗号化技術の利用、アクセス制御の徹底などが挙げられます。

#### 重要ポイント

*   TCP/IPモデルの各層の役割と、そこで使用される主要プロトコルの機能を理解する。
*   各プロトコルに潜むセキュリティリスク（盗聴、改ざん、DoS攻撃、なりすましなど）を認識する。
*   HTTPS、ファイアウォール、IDS/IPS、アクセス制御など、基本的なネットワークセキュリティ対策の重要性を理解する。

## 🏢 ケーススタディ

### ケース：DNSスプーフィングによるフィッシングサイトへの誘導

ある日、多くのユーザーが普段利用しているはずの銀行のウェブサイトにアクセスしたところ、見慣れないデザインのログインページが表示されました。ユーザーは疑いつつもログインを試みた結果、IDとパスワードが窃取され、不正送金被害に遭いました。調査の結果、DNSサーバーが攻撃を受け、正規の銀行サイトのドメイン名に対して、偽のフィッシングサイトのIPアドレスが返される「DNSスプーフィング」が行われていたことが判明しました。

#### 問題点

*   DNSサーバーへの不正アクセスと、偽情報の登録。
*   ユーザーが正規サイトと偽サイトを判別できない状況。
*   ユーザーの認証情報が窃取され、金銭的被害が発生。

#### 対応策

*   DNSサーバーへのアクセス制御と、DNSSEC（DNS Security Extensions）の導入による応答の正当性検証。
*   ユーザーへの注意喚起（URLの確認、ブラウザの証明書警告への注意など）。
*   TLS/SSL証明書の適切な管理と、ブラウザ側での証明書エラーに対する警告表示の徹底。
*   多要素認証の導入による、ID/パスワード漏洩時の被害拡大防止。

#### ケースから学ぶ教訓

*   基盤となるインフラストラクチャ（DNSなど）のセキュリティが、エンドユーザーの安全に直結する。
*   攻撃者は、ユーザーの信頼を悪用する手口（フィッシングなど）を巧妙化させる。
*   技術的な対策と、ユーザー教育・啓発を組み合わせることが重要である。

## 📝 理解度チェックテスト

以下の問題を解いて、今日の学習内容の理解度をチェックしましょう。

### 問題1

TCP/IPモデルにおいて、データの信頼性のあるコネクション指向通信を提供するプロトコルはどれか。

1.  UDP
2.  IP
3.  TCP
4.  HTTP

### 問題2

DNSスプーフィング攻撃によって、ユーザーはどのようなリスクに晒されるか。

1.  大量の広告が表示される
2.  ウェブサイトの表示速度が遅くなる
3.  正規のウェブサイトと偽って、フィッシングサイトへ誘導される
4.  マルウェアに感染する

### 問題3

HTTPS通信は、HTTP通信と比較してどのようなセキュリティ上の利点があるか。

1.  通信速度が速くなる
2.  通信内容が暗号化され、盗聴や改ざんを防ぐ
3.  IPアドレスが隠蔽される
4.  ファイアウォールを通過しやすくなる

### 問題4

ネットワークインターフェイス層で利用されるMACアドレスの脆弱性を突く攻撃手法は何か。

1.  SYNフラッド攻撃
2.  SQLインジェクション
3.  MACアドレススプーフィング
4.  クロスサイトスクリプティング（XSS）

### 問題5

TCP/IPモデルの各層のうち、IPアドレスによるルーティングを担当する層はどれか。

1.  アプリケーション層
2.  トランスポート層
3.  インターネット層
4.  ネットワークインターフェイス層

## 📋 今日のまとめ

*   TCP/IPモデルの4つの層と、各層で主要な役割を果たすプロトコル（HTTP, DNS, TCP, UDP, IPなど）の機能を理解しました。
*   各プロトコルが持つセキュリティ上のリスク（盗聴、改ざん、なりすまし、DoS攻撃など）とその対策の必要性を学びました。
*   HTTPSによる暗号化、DNSSEC、ファイアウォール、IDS/IPSといった基本的なネットワークセキュリティ技術の重要性を再確認しました。

### 次回予告

明日は「ファイアウォール・プロキシ・IDS/IPS」について学習します。

## ✅ テスト回答・解説

### 問題1 正解：3

解説：TCP (Transmission Control Protocol) は、コネクション指向のプロトコルであり、データの信頼性確保のためにシーケンス番号や確認応答 (ACK) を使用します。UDP (User Datagram Protocol) はコネクションレスで信頼性は低いですが、高速な通信に適しています。IPはネットワーク層でルーティングを担当し、HTTPはアプリケーション層のプロトコルです。

### 問題2 正解：3

解説：DNSスプーフィングは、DNSサーバーからの応答を偽装する攻撃です。これにより、ユーザーが特定のドメイン名（例：銀行のウェブサイト）にアクセスしようとした際に、正規のサーバーではなく攻撃者が用意した偽のサーバー（フィッシングサイト）へ誘導されます。その結果、ユーザーは認証情報などを窃取されるリスクに晒されます。

### 問題3 正解：2

解説：HTTPS (HTTP Secure) は、HTTP通信をSSL/TLSプロトコルで暗号化したものです。これにより、通信経路上の第三者によるデータの盗聴や、データの改ざんを防ぐことができます。通信速度はHTTPより若干遅くなる傾向がありますが、セキュリティを大幅に向上させます。IPアドレスの隠蔽やファイアウォール通過の容易化は、HTTPSの直接的な機能ではありません。

### 問題4 正解：3

解説：MACアドレススプーフィングは、ネットワークインターフェイス層で利用されるMACアドレスを偽装する攻撃手法です。これにより、攻撃者は正規の端末になりすましてネットワークに侵入したり、通信を傍受したりすることが可能になります。SYNフラッド攻撃はTCPの脆弱性を突くDoS攻撃、SQLインジェクションやXSSはWebアプリケーションの脆弱性を狙う攻撃です。

### 問題5 正解：3

解説：TCP/IPモデルのインターネット層は、IP (Internet Protocol) を中心として、パケットを宛先まで届けるためのルーティング（経路選択）を担当します。アプリケーション層はユーザーが直接利用するサービス（Web閲覧、メールなど）、トランスポート層はTCP/UDPによる信頼性や速度の制御、ネットワークインターフェイス層は物理的なネットワーク媒体上でのデータ転送を担います。

## 📚 参考資料・リソース

*   IPA「情報処理安全確保支援士試験シラバス」
*   『ネットワークはなぜつながるのか』
*   『サイバーセキュリティ入門』