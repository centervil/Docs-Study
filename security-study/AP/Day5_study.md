## 📚 今日の学習テーマ：データ構造（基礎）

### 📝 学習の目標

* 配列、連結リスト、スタック、キュー、ハッシュの基本的な仕組みを理解する。
* 各データ構造の具体的な適用例を説明できるようになる。
* データ構造の選択がプログラムの効率に与える影響を理解する。

### 🔍 カバーする範囲

本日は、プログラミングの基礎となるデータ構造について、その種類と基本的な仕組み、そしてどのような場面で利用されるかを中心に学習します。

## 📖 解説パート

### 配列と連結リスト

配列は、同じ型のデータを連続したメモリ領域に格納するデータ構造です。インデックス（添え字）を指定することで、高速に要素にアクセスできるのが特徴です。しかし、要素の挿入や削除を行う際には、後続の要素を移動させる必要があるため、時間がかかる場合があります。

一方、連結リストは、各要素（ノード）がデータ本体と次の要素へのポインタ（参照）を持つデータ構造です。要素がメモリ上で連続している必要はありません。要素の挿入や削除は、ポインタの付け替えだけで済むため、配列に比べて効率的です。ただし、特定の要素にアクセスするには、先頭から順にたどっていく必要があるため、配列のようなランダムアクセスはできません。

### スタックとキュー

スタックは「後入れ先出し（Last-In, First-Out; LIFO）」のデータ構造です。最後に格納されたデータが最初に取り出されます。代表的な操作として、データを格納する「プッシュ（push）」と、データを取り出す「ポップ（pop）」があります。プログラムの関数呼び出し履歴や、ブラウザの「戻る」機能などに利用されます。

キューは「先入れ先出し（First-In, First-Out; FIFO）」のデータ構造です。最初に入力されたデータが最初に取り出されます。データを格納する「エンキュー（enqueue）」と、データを取り出す「デキュー（dequeue）」という操作があります。プリンターの印刷待ち行列や、OSのタスクスケジューリングなどに利用されます。

### ハッシュテーブル

ハッシュテーブル（ハッシュマップ、連想配列とも呼ばれます）は、キーと値のペアを格納するデータ構造です。キーを「ハッシュ関数」と呼ばれる関数に通すことで、格納場所（インデックス）を計算します。これにより、キーを指定して高速に値の検索、挿入、削除を行うことができます。

ハッシュ関数は、どのようなキーに対しても一意のインデックスを生成することが理想ですが、異なるキーから同じインデックスが生成される「衝突」が発生する可能性があります。衝突が発生した場合の処理（例：チェイン法、オープンアドレス法）も、ハッシュテーブルの性能に影響を与えます。

#### 重要ポイント

*   **配列**: 高速なランダムアクセス、要素の挿入・削除は非効率。
*   **連結リスト**: 要素の挿入・削除は効率的、ランダムアクセスは非効率。
*   **スタック (LIFO)**: 関数呼び出し、ブラウザの履歴。
*   **キュー (FIFO)**: 待ち行列、タスクスケジューリング。
*   **ハッシュテーブル**: キーによる高速な検索・挿入・削除。衝突処理が重要。

## 🏢 ケーススタディ

### ケース：オンラインショッピングカートの実装

オンラインショッピングサイトで、ユーザーが商品をカートに追加・削除する機能があるとします。この機能を実現するために、どのようなデータ構造が適しているでしょうか。

#### 問題点

*   ユーザーがカートに商品を追加する頻度が高い。
*   カート内の商品一覧を表示する必要がある。
*   特定の商品をカートから削除する操作も頻繁に行われる。
*   各商品には、商品ID、商品名、価格、数量などの情報が付随する。

#### 対応策

*   **配列**: 商品IDをキーとして、カート内の全商品情報を配列に格納する。商品追加・削除時には、配列の再編成が必要になる場合がある。
*   **連結リスト**: 各商品をノードとし、商品IDや商品情報を保持する。商品追加・削除はポインタの付け替えで効率的に行える。
*   **ハッシュテーブル**: 商品IDをキー、商品情報（数量など）を値として格納する。商品IDによる高速な検索・追加・削除が可能。

#### ケースから学ぶ教訓

*   データ構造の選択は、操作の頻度や必要な機能によって大きく変わる。
*   「追加・削除の頻度」と「検索の効率」のトレードオフを考慮する必要がある。
*   ハッシュテーブルは、キーによる高速なアクセスが求められる場合に強力な選択肢となる。

## 📝 理解度チェックテスト

以下の問題を解いて、今日の学習内容の理解度をチェックしましょう。

### 問題1

配列の主な利点は何ですか？

1.  要素の挿入や削除が常に高速であること。
2.  要素へのランダムアクセスが高速であること。
3.  メモリ使用量が常に最小限であること。
4.  動的にサイズを変更するのが容易であること。

### 問題2

スタックの操作として正しいものはどれですか？

1.  エンキューとデキュー
2.  プッシュとポップ
3.  インサートとサーチ
4.  アペンドとプリペンド

### 問題3

連結リストで、ある要素を削除する際の主な利点は何ですか？

1.  配列のように後続の要素をすべて移動させる必要がない。
2.  常に先頭の要素から高速に削除できる。
3.  メモリの断片化が起こらない。
4.  要素の検索が常に高速になる。

### 問題4

ハッシュテーブルにおいて、異なるキーから同じインデックスが生成される現象を何と呼びますか？

1.  オーバーフロー
2.  衝突（コライジョン）
3.  デッドロック
4.  レイテンシ

### 問題5

キュー（待ち行列）の特性として正しいものはどれですか？

1.  後から入れたものが先に出る (LIFO)
2.  先に入れたものが先に出る (FIFO)
3.  キーを指定して高速にアクセスできる
4.  要素の追加・削除に常に一定の時間がかかる

## 📋 今日のまとめ

*   配列はランダムアクセスに優れ、連結リストは挿入・削除に優れる。
*   スタックはLIFO、キューはFIFOの特性を持つ。
*   ハッシュテーブルはキーによる高速なデータアクセスを提供する。
*   データ構造の選択は、プログラムのパフォーマンスに大きく影響する。

### 次回予告

明日は「アルゴリズム基礎」について学習します。

## ✅ テスト回答・解説

### 問題1 正解：2

解説：配列は、インデックスを指定することで目的の要素に直接アクセスできるため、ランダムアクセスが高速です。要素の挿入や削除は、他の要素の移動が必要になる場合があり、必ずしも高速とは限りません。メモリ使用量やサイズ変更の容易さは、配列の特性ではありますが、主な利点ではありません。

### 問題2 正解：2

解説：スタックは「後入れ先出し（LIFO）」のデータ構造であり、データを格納する操作をプッシュ、データを取り出す操作をポップと呼びます。エンキューとデキューはキューの操作です。インサートとサーチは一般的なデータ操作ですが、スタック固有の操作名ではありません。アペンドとプリペンドはリストなどの操作で使われます。

### 問題3 正解：1

解説：連結リストでは、要素の削除は、その要素の前後にあるノードのポインタを付け替えるだけで行えます。配列のように、削除した要素以降のすべての要素を一つずつずらす必要がないため、効率的です。連結リストはランダムアクセスが遅く、メモリの断片化は発生し得ます。

### 問題4 正解：2

解説：ハッシュテーブルにおいて、異なるキーがハッシュ関数によって同じインデックス（格納場所）にマッピングされる現象を「衝突（コライジョン）」と呼びます。この衝突を効率的に処理することが、ハッシュテーブルの実装において重要になります。オーバーフローはバッファなどの容量超過、デッドロックは並行処理の問題、レイテンシは遅延を指します。

### 問題5 正解：2

解説：キューは「先入れ先出し（FIFO）」のデータ構造であり、最初に追加された要素が最初に処理されます。これは、銀行の窓口やプリンターの印刷待ち行列のようなイメージです。スタックはLIFOです。ハッシュテーブルはキーによる高速アクセスが特徴で、キューの特性ではありません。キューの要素追加・削除は、実装方法によりますが、一般的には効率的です。

## 📚 参考資料・リソース

*   [アルゴリズム図鑑](https://www.amazon.co.jp/dp/B08K17T241)
*   [プログラミングコンテスト攻略のためのアルゴリズムとデータ構造](https://www.amazon.co.jp/dp/B08P759J3P)
*   [AtCoder](https://atcoder.jp/)
*   [Aizu Online Judge](https://onlinejudge.u-aizu.ac.jp/home/index)